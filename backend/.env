# ========================================
# 3XBAT BACKEND ENVIRONMENT CONFIGURATION
# ========================================

# ========================================
# SERVER CONFIGURATION
# ========================================
NODE_ENV=production
PORT=4000
HOST=0.0.0.0
INSTANCE_ID=1
GRACEFUL_SHUTDOWN_TIMEOUT=30000

# Database Configuration
DATABASE_URL="postgresql://postgres:8079@localhost:5432/betting_db"
DB_HOST=localhost
DB_PORT=5432
DB_NAME=betting_db
DB_USER=postgres
DB_PASSWORD=8079
DB_SSL=false
DB_MAX_CONNECTIONS=20
DB_IDLE_TIMEOUT=30000
DB_CONNECTION_TIMEOUT=2000

# JWT Configuration
JWT_SECRET=L9vY7z!pQkR#eA1dT3u*Xj5@FbNmC2Ws
JWT_ISSUER=3xbat-backend
JWT_AUDIENCE=3xbat-frontend
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d
JWT_ALGORITHM=HS256

# ========================================
# FRONTEND URLS (UPDATED FOR PRODUCTION)
# ========================================
CLIENT_PANELS_URL=https://3xbat.com
CONTROL_PANEL_URL=https://operate.3xbat.com
USER_PANEL_URL=https://subown.3xbat.com

# CORS Configuration (CORRECTED DOMAINS)
CORS_ORIGIN=https://3xbat.com,https://operate.3xbat.com,https://subown.3xbat.com,https://supadm.3xbat.com,https://admin.3xbat.com,https://subadm.3xbat.com,https://master.3xbat.com,https://supagent.3xbat.com,https://agent.3xbat.com,http://13.60.145.70:3000,http://13.60.145.70:3001,http://13.60.145.70:3002,http://13.60.145.70:4000

# Redis Configuration (UPDATED FOR DOCKER)
REDIS_URL=redis://localhost:6380
REDIS_HOST=localhost
REDIS_PORT=6380
REDIS_DB=0

# ========================================
# POLLING INTERVALS (in milliseconds)
# ========================================
BALANCE_POLL_INTERVAL=3000
EXPOSURE_POLL_INTERVAL=3000
LIMIT_POLL_INTERVAL=300000
TOKEN_REFRESH_INTERVAL=60000
TOKEN_EXPIRY_WARNING=300000

# ========================================
# FEATURE FLAGS
# ========================================
ENABLE_METRICS=true
ENABLE_HEALTH_CHECKS=true
ENABLE_LOGGING=true
LOG_LEVEL=info
METRICS_PORT=9090

# ========================================
# SECURITY CONFIGURATION
# ========================================
BCRYPT_SALT_ROUNDS=12
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION=900000
PASSWORD_MIN_LENGTH=8
REQUIRE_SPECIAL_CHARS=true

# ========================================
# RATE LIMITING
# ========================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX=100